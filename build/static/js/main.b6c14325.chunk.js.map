{"version":3,"sources":["components/FilterField.js","components/Notification.js","components/Numbers.js","components/AddField.js","services/persons.js","App.js","index.js"],"names":["FilterField","props","value","filterState","onChange","event","setFilterState","target","Notification","message","notificationType","className","Numbers","persons","filter","person","name","toLowerCase","includes","map","number","id","onClick","e","deleteFunction","error","AddField","onSubmit","addNew","newName","setNewName","newNumber","setNewNumber","type","baseUrl","omaApi","getAll","axios","get","create","newObject","post","update","put","deleteWithId","delete","App","useState","setPersons","notificationForm","setNotification","useEffect","personService","then","response","data","showMessage","a","b","setTimeout","preventDefault","window","confirm","find","catch","concat","personid","getAttribute","personname","console","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b6c14325.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst FilterField = (props) => {\r\n    const handleFilterStateChange = (event) => {\r\n        props.setFilterState(event.target.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            filter shown with: <input \r\n            value={props.filterState}\r\n            onChange={handleFilterStateChange}\r\n            />\r\n        </div>\r\n  )\r\n}\r\n\r\nexport default FilterField\r\n","import React from 'react'\r\n\r\nconst Notification = ({message, notificationType}) => {\r\n    if (message === null) {\r\n        return null\r\n      }\r\n    \r\n      return (\r\n        <div className={(notificationType === 0) ? 'notification' : 'error'}>\r\n          {message}\r\n        </div>\r\n      )\r\n}\r\n\r\nexport default Notification\r\n","import React from 'react'\r\n\r\nconst Numbers = (props) => {\r\n\r\n    try {\r\n        return (\r\n            <div>\r\n                <h2>Numbers</h2>\r\n                <ul>\r\n                {props.persons.filter(person => person.name.toLowerCase().includes(props.filterState)).map(person => <li key={person.name}>{person.name} {person.number}<button id={person.id} name={person.name} onClick={(e) => props.deleteFunction(e)}>delete</button></li>)}\r\n                </ul>\r\n            </div>\r\n        )\r\n    }\r\n    catch (error) {\r\n        return null\r\n    }\r\n}\r\n\r\nexport default Numbers\r\n","import React from 'react'\r\n\r\nconst AddField = (props) => {\r\n    const handleNameChange = (event) => {\r\n        props.setNewName(event.target.value)\r\n    }\r\n\r\n    const handleNumberChange = (event) => {\r\n      props.setNewNumber(event.target.value)\r\n    }\r\n    return (\r\n    <div>\r\n        <h2>Add a new person</h2>\r\n        <form onSubmit={props.addNew}>\r\n            <div>\r\n                name: <input \r\n                value={props.newName}\r\n                onChange={handleNameChange}/>\r\n            </div>\r\n            <div>\r\n                number: <input \r\n                value={props.newNumber}\r\n                onChange={handleNumberChange}/>\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddField","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n    return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst deleteWithId = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst omaApi = {\r\n    getAll: getAll,\r\n    create: create,\r\n    update: update,\r\n    deleteWithId: deleteWithId\r\n}\r\n\r\nexport default omaApi\r\n","import React, { useEffect, useState } from 'react'\nimport FilterField from './components/FilterField'\nimport Notification from './components/Notification'\nimport Numbers from './components/Numbers'\nimport AddField from './components/AddField'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filterState, setFilterState ] = useState('')\n  const [ notificationForm, setNotification ] = useState({\n    message : null,\n    notificationType : 0\n  })\n \n  /* Haetaan data tietokannasta frontendiin */\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n    }, [])\n  \n  /* Virheviestin näyttämiseen funktio */\n  const showMessage = (a, b) => {\n    setNotification({\n      ...notificationForm,\n      message : a,\n      notificationType : b\n    }\n    )\n    setTimeout(() => {\n      setNotification({\n        ...notificationForm,\n        message : null,\n        notificationType : 0})\n    }, 5000)\n  }\n\n  /* Add-painikkeen funktio */\n  const addNew = (e) => {\n    e.preventDefault()\n    persons.map(person => person.name).includes(newName)\n    ? window.confirm(`${newName}  is already on phonebook, replace the old number with a new?`)\n      ? personService /* Päivitetään henkilö */\n        .update(persons.find(person => person.name === newName).id, {name : newName, number : newNumber})\n        .then(response => {\n          if(response.data === null) {\n            setPersons(persons.filter(person => person.name !== newName))\n            showMessage(`${newName} has already been removed from the server`, 1)\n          } else if (response.data.name === newName) {\n            setPersons(persons.map(person => person.name !== newName ? person : response.data))\n            showMessage(`Changes to ${newName} was made`, 0)\n          }\n        })\n        .catch(error => {\n          showMessage(`${error.response.data.error}`, 1)\n        })\n        : showMessage(`No changes was made to ${newName}`, 0)\n    : personService /* Lisätään henkilö */\n      .create({name : newName, number : newNumber})\n      .then(response => {\n        setPersons(persons.concat({name : newName, number : newNumber, id : response.data.id}))\n        showMessage(`Added ${newName}`, 0)\n      })\n      .catch(error => {\n        showMessage(`${error.response.data.error}`, 1)\n      })\n    setNewName('')\n    setNewNumber('')\n  }\n\n  /* Delete-painikkeen funktio */\n  const removeNumber = (e) => {\n    e.preventDefault()\n    try {\n      const personid = e.target.getAttribute(\"id\")\n      const personname = e.target.getAttribute(\"name\")\n\n      if (window.confirm(`Remove ${personname}?`)) {\n        setPersons(persons.filter(person => person.id !== personid))\n        personService.deleteWithId(personid)\n          .then(response => {\n            if (response.data === null) {\n              showMessage(`${personname} was already removed from the server`, 1)\n            } else {\n              showMessage(`${personname} was removed`, 0)\n            }\n          })\n      }\n      else {\n        showMessage(`No changes were made`, 0)\n      }\n    } catch (error) {\n      console.error(error)\n    }\n  }\n\n  return (\n    <div>\n      <Notification message={notificationForm.message} notificationType={notificationForm.notificationType} />\n      <FilterField filterState={filterState} setFilterState={setFilterState} />\n      <AddField addNew={addNew} newName={newName} setNewName={setNewName} newNumber={newNumber} setNewNumber={setNewNumber} />\n      <Numbers persons={persons} filterState={filterState} deleteFunction={removeNumber} />\n    </div>\n  )\n\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}